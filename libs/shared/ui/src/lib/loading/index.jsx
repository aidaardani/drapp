import ReactDOM from 'react-dom';
import styles from './loading.module.scss';
import { CSSTransition } from 'react-transition-group';
import { useEffect } from 'react';

const Loading = ({ show, blur, simple }) => {
    useEffect(() => {
        if (show) {
            return document.body.classList.add(styles['open-modal']);
        }
        document.body.classList.remove(styles['open-modal']);
    }, [show]);

    return ReactDOM.createPortal(
        <CSSTransition in={show} timeout={300} classNames="fade-loading" unmountOnExit>
            <div className={`${styles['loading']} ${blur && styles.blur}`}>
                {!simple && (
                    <svg
                        width="91"
                        height="94"
                        viewBox="0 0 91 94"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                    >
                        <path
                            d="M88.0899 41.887L87.341 29.0699C87.2096 27.1459 86.6657 25.2763 85.7487 23.5966C84.8318 21.9168 83.5647 20.469 82.0395 19.3582L75.4889 14.6313C70.5448 11.0606 65.2814 7.98709 59.7707 5.45294L50.6331 1.25514C49.0511 0.526341 47.3347 0.161798 45.6028 0.18676C43.7858 0.133325 41.9809 0.509013 40.3254 1.28524L30.8524 5.72218C25.8265 8.07449 21.0095 10.8771 16.4565 14.098L9.03552 19.3453C7.48352 20.4535 6.19247 21.9083 5.25794 23.602C4.3234 25.2957 3.76929 27.185 3.63663 29.1301L2.89853 41.8801C2.85275 45.2875 2.85275 48.6954 2.89853 52.1028L3.64162 64.9198C3.77374 66.8436 4.31794 68.713 5.23484 70.3926C6.15174 72.0722 7.4184 73.5201 8.94315 74.6315L15.4954 79.3704C20.4409 82.9418 25.706 86.0153 31.2186 88.5488L40.3546 92.7492C41.9376 93.4763 43.6544 93.8394 45.3865 93.8133C47.2035 93.8667 49.0084 93.491 50.6639 92.7148L60.1369 88.283C65.1628 85.9307 69.9798 83.1281 74.5328 79.9072L81.9538 74.6599C83.5056 73.5518 84.7965 72.0971 85.7309 70.4035C86.6653 68.71 87.2193 66.8208 87.3518 64.876L88.0916 52.3015C88.1216 49.5643 88.1748 45.1205 88.0899 41.887V41.887Z"
                            fill="#3F3F79"
                        />
                        <path
                            d="M45.932 16.0503L45.9594 16.4959C45.9601 16.5486 45.9788 16.5992 46.0122 16.6391C46.0455 16.6789 46.0914 16.7052 46.1417 16.7135C46.2074 16.7308 46.2741 16.7438 46.3414 16.7522C47.0009 16.8324 47.6561 16.9472 48.3044 17.0963C49.3261 17.3153 50.336 17.5895 51.33 17.9178C56.0314 19.4442 60.3041 22.1274 63.7812 25.7371C64.604 26.5872 65.375 27.4893 66.0896 28.4381C66.3542 28.7891 66.3509 28.7822 66.7653 28.6558C67.2299 28.5154 67.7063 28.421 68.1882 28.3736C68.7725 28.3204 69.3605 28.3288 69.9432 28.3986C70.5248 28.4673 71.0954 28.6136 71.6407 28.8338C73.1907 29.425 74.5059 30.533 75.3787 31.983C76.0898 33.1852 76.4737 34.5636 76.4896 35.9727C76.4496 38.0149 75.6268 39.9571 74.2019 41.3724C72.7771 42.7877 70.867 43.5602 68.8914 43.5201C68.7422 43.5234 68.5929 43.5171 68.4445 43.5012C67.9842 43.4696 67.5274 43.3973 67.079 43.2853C65.8422 42.9751 64.7029 42.3429 63.7693 41.4488C62.8358 40.5547 62.1392 39.4285 61.7458 38.1774C61.4204 37.1333 61.3293 36.0263 61.4796 34.9404C61.6102 33.913 61.9457 32.9248 62.4647 32.0384C62.9838 31.1519 63.6752 30.3864 64.4952 29.7904C64.5585 29.7413 64.6209 29.694 64.6808 29.6416C64.6983 29.6295 64.7032 29.6029 64.7274 29.5555C64.6791 29.4816 64.6292 29.3938 64.5676 29.3147C60.8287 24.5348 55.7451 21.0743 50.0202 19.412C49.1428 19.1563 48.2542 18.9436 47.3574 18.7746C46.9705 18.7006 46.5802 18.6464 46.1924 18.5871C46.0443 18.5638 45.9736 18.6155 45.9652 18.7591C45.9553 18.9664 45.9652 19.1737 45.9553 19.3802V20.1131C45.9582 20.1335 45.9572 20.1542 45.9521 20.1742C45.9471 20.1942 45.9383 20.2129 45.9261 20.2292C45.9138 20.2455 45.8985 20.2592 45.8811 20.2694C45.8637 20.2796 45.8445 20.2861 45.8246 20.2886H45.783C45.3561 20.2886 44.9226 20.2886 44.5015 20.2782C44.4807 20.2782 44.4616 20.2593 44.4183 20.2361C44.4033 20.1541 44.3924 20.0715 44.3858 19.9883V19.1952C44.3858 19.1032 44.3805 19.0113 44.37 18.92C44.3669 18.8791 44.3492 18.8409 44.3202 18.8129C44.2913 18.7849 44.2532 18.7691 44.2136 18.7686C44.1684 18.7651 44.1231 18.7651 44.078 18.7686L42.5934 18.8262C42.3791 18.8277 42.1649 18.8406 41.9519 18.8649C41.47 18.9174 40.9882 18.9681 40.5106 19.037C40.033 19.1058 39.5545 19.1918 39.0777 19.2778C38.3895 19.4008 37.7121 19.5694 37.0389 19.7587C32.1073 21.136 27.6501 23.9199 24.1766 27.7921C22.5579 29.5993 21.1835 31.6249 20.0908 33.8136C19.4412 35.1108 18.8957 36.461 18.4599 37.8505C18.1933 38.704 17.9695 39.5711 17.7892 40.4483C17.6388 41.168 17.5168 41.8917 17.423 42.6195C17.3506 43.1778 17.3165 43.7377 17.2716 44.3029C17.2474 44.5997 17.2316 44.8982 17.2216 45.1984C17.2216 45.4091 17.2649 45.4564 17.4713 45.4736H20.7091C20.8495 45.4534 20.9925 45.4697 21.1252 45.521C21.1463 45.569 21.1614 45.6195 21.1701 45.6715C21.1926 46.1251 21.1806 46.5798 21.1343 47.0315C21.0783 47.0509 21.0206 47.065 20.9621 47.0736H17.6918C17.5582 47.048 17.4202 47.0695 17.2999 47.1347C17.2551 47.2288 17.2419 47.3356 17.2624 47.4383C17.2722 47.944 17.3106 48.4487 17.3773 48.9497C17.4255 49.2551 17.448 49.5656 17.4854 49.8727C17.5578 50.4663 17.671 51.0521 17.7883 51.637C17.9606 52.4602 18.1653 53.2714 18.4041 54.0697C18.8231 55.4545 19.3519 56.8013 19.9852 58.0963C21.7337 61.636 24.1912 64.7502 27.1944 67.2318C30.1975 69.7135 33.6774 71.5057 37.4026 72.4892C38.144 72.6862 38.8921 72.854 39.6385 72.9839C40.2926 73.0983 40.9525 73.1748 41.6132 73.2488C42.5352 73.3486 43.4572 73.3581 44.3809 73.377C44.5531 73.377 44.7245 73.377 44.8885 73.3632C45.0524 73.3495 45.0915 73.2987 45.0882 73.1439C45.0882 72.8789 45.0707 72.6174 45.0524 72.3508C44.9833 71.3521 44.9891 70.3516 44.9908 69.3529C44.9935 69.0517 45.0623 68.7551 45.192 68.4854C45.3218 68.2157 45.509 67.98 45.7397 67.796C46.1261 67.4749 46.5836 67.2582 47.0711 67.1654C47.6536 67.0321 48.2361 66.9005 48.8186 66.7775C49.2588 66.6846 49.7032 66.6054 50.145 66.5194C50.3672 66.4773 50.5869 66.4334 50.8108 66.3981C51.1436 66.3422 51.4765 66.2768 51.8093 66.2347C52.4094 66.1315 53.0179 66.0903 53.6259 66.1117C53.8392 66.1274 54.0504 66.1663 54.2558 66.2278C54.5513 66.3128 54.8086 66.5021 54.9831 66.7629C55.365 67.2884 55.7206 67.8339 56.0482 68.3973C56.317 68.8884 56.6157 69.3641 56.9086 69.845C56.9374 69.8944 56.9709 69.9408 57.0085 69.9835C57.0353 70.0219 57.0745 70.0492 57.1191 70.0604C57.1636 70.0716 57.2106 70.066 57.2515 70.0445C57.3231 70.0115 57.3921 69.9726 57.4578 69.9284C58.855 69.0003 60.238 68.0506 61.5661 67.0183C63.2246 65.712 64.6931 64.1662 65.9265 62.4283C66.2002 62.0472 66.4823 61.6756 66.7503 61.2911C66.965 60.9823 67.1664 60.6631 67.3677 60.3449C67.4997 60.1281 67.5523 59.8696 67.5159 59.6163C67.4986 59.3967 67.4394 59.1829 67.3417 58.9871C67.244 58.7913 67.1097 58.6175 66.9467 58.4756C66.433 58.0096 65.8949 57.5731 65.3348 57.1681C64.8272 56.8419 64.4262 56.3653 64.184 55.8004C63.9641 55.2431 63.9278 54.6264 64.0808 54.0456L64.4245 52.6065L64.8955 50.6375C65.0536 49.9917 65.2106 49.3451 65.3665 48.6977C65.4404 48.373 65.5507 48.0583 65.6951 47.7601C65.8592 47.4345 66.0999 47.1568 66.3952 46.9528C66.6904 46.7488 67.0306 46.625 67.3844 46.5928C67.9088 46.5226 68.4394 46.5153 68.9654 46.5713C69.7842 46.6521 70.6047 46.7166 71.4236 46.782C71.7156 46.8052 72.006 46.807 72.3023 46.8156C72.9347 46.8156 73.5667 46.851 74.1954 46.9214C74.4318 46.9539 74.6628 47.0199 74.8819 47.1175C75.0935 47.2102 75.282 47.3512 75.4333 47.53C75.5846 47.7088 75.6948 47.9207 75.7556 48.1497C75.8739 48.5095 75.8995 48.8949 75.8297 49.268C75.7556 49.619 75.7382 49.9699 75.6833 50.3209C75.5942 50.8981 75.511 51.4779 75.3928 52.0516C75.2639 52.7045 75.1107 53.3523 74.9643 54.0017C74.7821 54.7844 74.5599 55.5565 74.2986 56.3148C73.518 58.7213 72.4457 61.016 71.1073 63.144C70.2645 64.4794 69.3254 65.7473 68.2981 66.9366C66.7016 68.7916 64.9136 70.4603 62.9657 71.9129C61.2987 73.1727 59.512 74.2541 57.6334 75.1404C56.5277 75.6578 55.3986 76.12 54.25 76.5253C53.4619 76.8006 52.6589 77.0217 51.8418 77.2273C51.0246 77.4329 50.2125 77.5868 49.3936 77.7313C48.9726 77.8053 48.544 77.8328 48.1188 77.8896C47.6943 77.95 47.2656 77.9736 46.8373 77.9601C46.6012 77.9589 46.3676 77.9107 46.1491 77.8182C45.9231 77.7128 45.7327 77.54 45.6024 77.3219C45.4631 77.0988 45.3629 76.8522 45.3062 76.5933C45.2754 76.46 45.2321 76.3352 45.193 76.195C45.1105 76.1795 45.0271 76.1695 44.9434 76.1649H44.1662C43.2649 76.1699 42.3641 76.1248 41.4676 76.0299C40.8062 75.9669 40.147 75.8808 39.4912 75.7718C37.2661 75.4141 35.0882 74.7927 33.0006 73.9198C26.826 71.3746 21.6564 66.7606 18.3201 60.8171C16.8781 58.2423 15.8268 55.4541 15.2029 52.5497C14.9982 51.6035 14.8592 50.6572 14.7211 49.699C14.652 49.1828 14.6212 48.6736 14.5888 48.1506C14.5422 47.3816 14.4823 46.6134 14.5056 45.8427C14.533 44.9128 14.5813 43.982 14.6778 43.0556C14.7399 42.4024 14.8232 41.753 14.9275 41.1072C15.0531 40.3511 15.2046 39.5959 15.3934 38.8501C15.5823 38.1043 15.7837 37.3877 16.0159 36.6686C16.4672 35.2818 17.0193 33.9323 17.6677 32.6316C18.8529 30.2499 20.3403 28.0424 22.0905 26.0674C25.682 22.0413 30.2367 19.0651 35.2956 17.4387C36.1423 17.1594 37.0035 16.9296 37.8752 16.7505C38.3279 16.6645 38.7764 16.5432 39.2324 16.4701C39.8432 16.372 40.4573 16.2981 41.0731 16.2258C41.6217 16.1656 42.1716 16.12 42.7224 16.089C43.3523 16.0555 43.9831 16.0434 44.6147 16.028H45.5949C45.6973 16.0288 45.7913 16.0409 45.932 16.0503V16.0503ZM74.2536 36.3899C74.3373 35.3276 74.1237 34.263 73.6383 33.3227C73.1529 32.3825 72.4161 31.6065 71.5158 31.0871C70.6156 30.5678 69.5898 30.327 68.5609 30.3936C67.5319 30.4602 66.5432 30.8313 65.7126 31.4626C65.4827 31.6328 65.2655 31.8206 65.0627 32.0243C64.5713 32.5174 64.1798 33.1066 63.911 33.7576C63.6421 34.4087 63.5014 35.1085 63.4969 35.8164C63.4924 36.5243 63.6242 37.226 63.8848 37.8806C64.1453 38.5353 64.5294 39.1298 65.0145 39.6294L65.0286 39.6449C65.9066 40.5615 67.067 41.132 68.3089 41.2578C69.3124 41.3822 70.3292 41.1991 71.233 40.7313C72.0685 40.3566 72.7904 39.7552 73.3221 38.9909C73.8539 38.2266 74.1758 37.3279 74.2536 36.3899V36.3899Z"
                            fill="white"
                        />
                        <path
                            d="M43.7755 51.4194C43.7855 51.5665 43.7996 51.6671 43.7996 51.7703V54.3578C43.7996 54.7372 43.7896 54.7424 43.421 54.7492H31.5215C31.3607 54.7702 31.1974 54.7546 31.043 54.7036C30.9938 54.5655 30.9894 54.4145 31.0305 54.2735C31.2496 53.0352 31.7121 51.8565 32.3894 50.8104C32.8304 50.1555 33.3198 49.5369 33.8531 48.9601C34.8026 47.9072 35.8244 46.9412 36.843 45.964C37.4671 45.3618 38.0745 44.7494 38.6737 44.1283C39.0772 43.7276 39.421 43.2673 39.6939 42.7623C39.9462 42.2863 40.107 41.7643 40.1673 41.2251C40.2235 40.7076 40.1469 40.184 39.9452 39.7068C39.83 39.4155 39.6522 39.1551 39.425 38.9456C39.1979 38.736 38.9276 38.5827 38.6346 38.4974C37.9532 38.269 37.2173 38.285 36.5459 38.543C36.2439 38.6535 35.9703 38.8337 35.7458 39.07C35.5212 39.3062 35.3518 39.5923 35.2503 39.9064C35.1246 40.2395 35.0491 40.5905 35.0264 40.9472C35.0162 41.0254 35.0006 41.1027 34.9798 41.1786C34.9318 41.1908 34.8827 41.1977 34.8334 41.1993C33.7239 41.0938 32.6143 40.9862 31.5048 40.8767C31.4874 40.8767 31.4707 40.85 31.4308 40.8191C31.4222 40.7238 31.4222 40.6279 31.4308 40.5326C31.5389 39.8283 31.7289 39.14 31.9966 38.4828C32.471 37.3942 33.3168 36.5244 34.3724 36.0398C35.0657 35.7047 35.8071 35.4882 36.5675 35.3989C37.0366 35.3372 37.5094 35.3113 37.9822 35.3215C38.8741 35.3277 39.7574 35.5026 40.5884 35.8376C41.2765 36.1084 41.8978 36.5336 42.4077 37.0827C42.9175 37.6317 43.3031 38.2909 43.5367 39.0126C43.7915 39.8124 43.8669 40.6617 43.7572 41.4961C43.5857 42.7915 43.0939 44.0193 42.3292 45.0607C41.8464 45.7569 41.2948 46.3992 40.6833 46.9773C39.8228 47.8022 38.9458 48.6117 38.077 49.4349C37.646 49.822 37.2485 50.2471 36.8887 50.7054C36.7664 50.8689 36.6499 51.0392 36.5451 51.2129C36.4835 51.3093 36.5309 51.385 36.6499 51.4005C36.7644 51.4066 36.8791 51.4066 36.9936 51.4005H43.3178C43.4451 51.4056 43.5899 51.4142 43.7755 51.4194V51.4194ZM57.8677 50.7828C57.7212 50.7828 57.5972 50.7983 57.4757 50.7983H55.928C55.8054 50.7797 55.6803 50.7992 55.5685 50.8542C55.5198 50.9836 55.5037 51.1236 55.5219 51.2611V54.2959C55.5219 54.4206 55.5119 54.5454 55.5077 54.6589C55.3962 54.7334 55.2614 54.7611 55.1308 54.7363H52.3148C52.2423 54.7324 52.1701 54.724 52.0985 54.7114C52.0622 54.6713 52.0357 54.6228 52.0212 54.57C52.0067 54.5172 52.0047 54.4615 52.0153 54.4077V51.2396C52.0153 51.1149 52.0053 50.9919 51.9978 50.8568C51.9295 50.8336 51.8593 50.8166 51.7881 50.8061H44.6559C44.5047 50.8226 44.3517 50.8071 44.2065 50.7605C44.1859 50.686 44.172 50.6097 44.1649 50.5325V47.7403C44.1737 47.5778 44.2343 47.423 44.3372 47.2999C44.9358 46.4225 45.5327 45.5448 46.1279 44.6668L52.2366 35.6871C52.5171 35.2768 52.4222 35.3224 52.9248 35.3189H55.1092C55.2365 35.3032 55.3657 35.3188 55.4861 35.3645C55.5031 35.4278 55.5159 35.4921 55.5244 35.5572V47.0504C55.5244 47.1769 55.5244 47.3033 55.5344 47.4297C55.5362 47.4648 55.5506 47.4979 55.5748 47.5225C55.5989 47.5472 55.6311 47.5616 55.665 47.5631C55.7541 47.5631 55.8373 47.5734 55.9355 47.5734H57.5298C57.6445 47.5712 57.7592 47.5752 57.8735 47.5854C57.8918 47.6413 57.9044 47.6989 57.9109 47.7575V50.6203C57.9007 50.6755 57.8862 50.7299 57.8677 50.7828ZM51.9429 40.9885C51.8597 41.1012 51.8072 41.1606 51.7706 41.2234L49.1386 45.1657L47.7622 47.2156C47.7023 47.3016 47.6125 47.3876 47.6141 47.502C47.6449 47.5287 47.6624 47.5545 47.6799 47.5545C49.0556 47.5614 50.4317 47.566 51.8081 47.5682C51.8642 47.574 51.9206 47.5615 51.9695 47.5325C52.0183 47.5035 52.0572 47.4594 52.0807 47.4065C52.1042 47.3535 52.111 47.2943 52.1003 47.2371C52.0897 47.1798 52.062 47.1275 52.0211 47.0874V41.1864C52.0021 41.12 51.9762 41.056 51.9437 40.9954L51.9429 40.9885ZM73.7015 35.5125C73.7596 36.5421 73.5041 37.5646 72.971 38.4364C72.4378 39.3081 71.6538 39.9853 70.7291 40.3726C69.9967 40.6786 69.2041 40.7989 68.4175 40.7236C67.4853 40.6465 66.5951 40.2899 65.856 39.6975C65.117 39.1051 64.5612 38.3027 64.2568 37.3886C64.0353 36.7469 63.9587 36.0613 64.033 35.3843C64.112 34.5284 64.41 33.7097 64.8964 33.0124C65.3828 32.315 66.0401 31.764 66.8006 31.4162C67.5306 31.0387 68.3473 30.8771 69.1606 30.9491C70.0974 30.9938 71.0009 31.3219 71.759 31.8926C72.5171 32.4633 73.0965 33.2514 73.4253 34.1594C73.5949 34.5897 73.6885 35.048 73.7015 35.5125V35.5125ZM68.8352 33.6587C68.2773 33.6495 67.7384 33.8683 67.3357 34.2676C66.933 34.667 66.6992 35.2145 66.685 35.7912C66.6945 36.3695 66.9224 36.921 67.32 37.3279C67.7175 37.7349 68.2533 37.965 68.8127 37.9692C69.3734 37.9807 69.9155 37.7617 70.3199 37.3602C70.7244 36.9587 70.9581 36.4077 70.9696 35.8282C70.9726 35.5465 70.9213 35.267 70.8187 35.0061C70.7162 34.7451 70.5644 34.5079 70.3722 34.3082C69.9808 33.9014 69.4501 33.6705 68.8951 33.6656L68.8352 33.6587Z"
                            fill="white"
                        />
                        <path
                            d="M68.8572 34.9757C69.0809 34.9696 69.298 35.0543 69.462 35.2118C69.626 35.3692 69.7237 35.5868 69.7343 35.8179C69.738 35.9363 69.719 36.0542 69.6785 36.1651C69.6381 36.2759 69.5769 36.3774 69.4984 36.4637C69.42 36.5501 69.3258 36.6196 69.2214 36.6684C69.1169 36.7171 69.0042 36.7441 68.8897 36.7477H68.8572C68.6331 36.741 68.4197 36.6467 68.2601 36.4839C68.1005 36.3212 68.0064 36.1019 67.9968 35.8703C67.9894 35.6408 68.0704 35.4175 68.222 35.2496C68.3737 35.0818 68.5836 34.9829 68.8056 34.9749L68.8572 34.9757Z"
                            fill="white"
                        />
                    </svg>
                )}
                {!simple && <span className={styles.brandName}>پذیرش24</span>}
                <svg
                    version="1.1"
                    xmlns="http://www.w3.org/2000/svg"
                    width="60px"
                    height="10px"
                    viewBox="0 0 80 20"
                >
                    <circle cx="10" cy="10" r="10" fill="#3F3F79">
                        <animate
                            attributeName="cx"
                            from="10"
                            to="40"
                            dur="0.5s"
                            calcMode="spline"
                            keySplines="0.42 0 0.58 1"
                            keyTimes="0;1"
                            repeatCount="indefinite"
                        />
                    </circle>
                    <circle cx="10" cy="10" r="0" fill="#6060a1">
                        <animate
                            attributeName="r"
                            from="0"
                            to="10"
                            dur="0.5s"
                            calcMode="spline"
                            keySplines="0.42 0 0.58 1"
                            keyTimes="0;1"
                            repeatCount="indefinite"
                        />
                    </circle>
                    <circle cx="40" cy="10" r="10" fill="#6060a1">
                        <animate
                            attributeName="cx"
                            from="40"
                            to="70"
                            dur="0.5s"
                            calcMode="spline"
                            keySplines="0.42 0 0.58 1"
                            keyTimes="0;1"
                            repeatCount="indefinite"
                        />
                    </circle>
                    <circle cx="70" cy="10" r="10" fill="#3F3F79">
                        <animate
                            attributeName="r"
                            from="10"
                            to="0"
                            dur="0.5s"
                            calcMode="spline"
                            keySplines="0.42 0 0.58 1"
                            keyTimes="0;1"
                            repeatCount="indefinite"
                        />
                    </circle>
                </svg>
            </div>
        </CSSTransition>,
        document.getElementById('root')
    );
};

export { Loading };
